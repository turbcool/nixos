dns:
  # Use system hosts and allow systemd-resolved, enabling corporate names via hosts or direct-nameserver.
  use-hosts: true
  use-system-hosts: true   # allow resolution via systemd-resolved/hosts

  # (Example) point direct-resolution to corporate DNS servers over the VPN
  direct-nameserver:
    - 10.150.7.1     # <== replace with actual corp DNS IP(s) provided by VPN

  # Fallback DNS (public) can be default for other lookups
  nameserver:
    - "https://8.8.8.8/dns-query" 

proxies:
  - name: remote
    type: vless
    server: 5.144.179.135
    port: 443
    uuid: 643a3e6e-ed19-421f-b683-cc1687f03c6a
    flow: xtls-rprx-vision
    tls: true
    certificate: public_only
    *security:
      servername: ftp.debian.org
      public-key: XBYNW8QblZMV0c6-7quAMrvp1m2-gOG3NbXlCQd0rVA

routing:
  rules:
    # (a) Bypass all destinations in Russia via direct route (no proxy)
    - GEOIP,RU,DIRECT           # All IPs geo-located in RU go DIRECT

    # (b) Bypass corporate VPN subnet 10.150.* via direct route
    - IP-CIDR,10.150.0.0/16,DIRECT   # adjust mask as needed for your corp subnet

    # (c) Force corporate domains to resolve via the VPN (direct)
    - DOMAIN-SUFFIX,neoplatform.ru,DIRECT
    - DOMAIN-SUFFIX,skyori.ru,DIRECT

    # Catch-all: send everything else via the proxy (remote)
    - MATCH,remote

